{"version":3,"file":"services-5c7d39f0.js","sources":["../../../../services/service.js","../../../../pages/services.vue"],"sourcesContent":["import axios from \"axios\";\r\n\r\nlet API_URL;\r\n\r\n//TODO: refactor API_URL builder. it is returning 500 when use runtime call outside of a function.\r\nfunction initEndpoint() {\r\n    const config = useRuntimeConfig();\r\n    API_URL = config.public.API_URL ? config.public.API_URL : 'http://localhost:1337';\r\n}\r\n\r\nexport const getAllServices = async () => {\r\n    await initEndpoint();\r\n    try {\r\n        return await axios.get(API_URL + `/api/services?populate=*`);\r\n    } catch (error) {\r\n        return error;\r\n    }\r\n};\r\n","\r\n<template>\r\n  <div >\r\n    <div v-for=\"(item, index) in cardDetails\" :key=\"index\" >\r\n  \r\n      <div v-if=\"index % 2 === 0\" >\r\n        \r\n        <CardImgRight\r\n          :CardTitle=\"item.CardTitle\"\r\n          :CardBody=\"item.CardBody \"\r\n          :imageUrl=\"item.imageUrl\"\r\n          :ComTitle=\"item.ComTitle\"\r\n          :boldText=\"item.boldText\"\r\n          :Para=\"item.Para\"\r\n          :baseUrl=\"this.baseUrl\"\r\n          data-aos=\"fade-up\" data-aos-duration=\"1000\"\r\n        />\r\n      </div>\r\n      <div v-else >\r\n        <card\r\n          :CardTitle=\"item.CardTitle\"\r\n          :CardBody=\"item.CardBody\"\r\n          :imageUrl=\"item.imageUrl\"\r\n          :Para=\"item.Para\"\r\n          :baseUrl=\"this.baseUrl\"\r\n          data-aos=\"fade-up\" data-aos-duration=\"1000\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport card from \"~/components/services/cardImgLeft.vue\";\r\nimport CardImgRight from \"~/components/services/cardImgRight.vue\";\r\nimport {getAllServices} from \"@/services/service\"\r\nimport {loading, toggleLoading} from '../store/store';\r\n\r\nexport default {\r\n  components: { card, CardImgRight},\r\n  name: \"services\",\r\n\r\n  data() {\r\n    return {\r\n      baseUrl: 'http://localhost:1337',\r\n      cards: [ ],\r\n      cardDetails:[],\r\n      CardTitle: \"\",\r\n      CardBody:[],\r\n      imageUrl:\"\",\r\n      ComTitle:\"\",\r\n      boldText:\"\",\r\n      Para:\"\"\r\n\r\n\r\n    };\r\n  },\r\n  computed: {\r\n    loading() {\r\n      return loading.value;\r\n    },\r\n  },\r\n  async created() {\r\n    toggleLoading(true);\r\n    await this.fetchAllServices();\r\n    // toggleLoading(false);\r\n  },\r\n\r\n  methods:{\r\n    async fetchAllServices() {\r\n      try {\r\n      const response = await getAllServices();\r\n      this.cards = response.data.data\r\n        this.cardDetails = this.cards.map(item => ({\r\n          CardTitle: item.attributes.CardTitle,\r\n          CardBody: item.attributes.service_card_bodies.data ,\r\n          ComTitle: item.attributes.ComTitle,\r\n          imageUrl: item.attributes.imageUrl.data.attributes.formats.small.url,\r\n          boldText: item.attributes.boldtext,\r\n          Para: item.attributes.Paragraph,\r\n        }));\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n    toggleLoading(false);\r\n    }\r\n\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAEA,IAAI;AAGJ,SAAS,eAAe;AACpB,QAAM,SAAS;AACf,YAAU,OAAO,OAAO,UAAU,OAAO,OAAO,UAAU;AAC9D;AAEO,MAAM,iBAAiB,YAAY;AACtC,QAAM,aAAY;AAClB,MAAI;AACA,WAAO,MAAM,MAAM,IAAI,UAAU,0BAA0B;AAAA,EAC9D,SAAQ,OAAO;AACZ,WAAO;AAAA,EACV;AACL;ACqBA,MAAK,YAAU;AAAA,EACb,YAAY,EAAE,MAAM,aAAY;AAAA,EAChC,MAAM;AAAA,EAEN,OAAO;AACL,WAAO;AAAA,MACL,SAAS;AAAA,MACT,OAAO,CAAG;AAAA,MACV,aAAY,CAAE;AAAA,MACd,WAAW;AAAA,MACX,UAAS,CAAE;AAAA,MACX,UAAS;AAAA,MACT,UAAS;AAAA,MACT,UAAS;AAAA,MACT,MAAK;AAAA;EAIR;AAAA,EACD,UAAU;AAAA,IACR,UAAU;AACR,aAAO,QAAQ;AAAA,IAChB;AAAA,EACF;AAAA,EACD,MAAM,UAAU;AACd,kBAAc,IAAI;AAClB,UAAM,KAAK;EAEZ;AAAA,EAED,SAAQ;AAAA,IACN,MAAM,mBAAmB;AACvB,UAAI;AACJ,cAAM,WAAW,MAAM;AACvB,aAAK,QAAQ,SAAS,KAAK;AACzB,aAAK,cAAc,KAAK,MAAM,IAAI,WAAS;AAAA,UACzC,WAAW,KAAK,WAAW;AAAA,UAC3B,UAAU,KAAK,WAAW,oBAAoB;AAAA,UAC9C,UAAU,KAAK,WAAW;AAAA,UAC1B,UAAU,KAAK,WAAW,SAAS,KAAK,WAAW,QAAQ,MAAM;AAAA,UACjE,UAAU,KAAK,WAAW;AAAA,UAC1B,MAAM,KAAK,WAAW;AAAA,QACvB,EAAC;AAAA,MACJ,SAAO,OAAO;AACd,gBAAQ,MAAM,wBAAwB,KAAK;AAAA,MAC7C;AACA,oBAAc,KAAK;AAAA,IACnB;AAAA,EAGF;AACF;;;;;gBAtFiC,MAAW,aAAA,CAA3B,MAAM,UAAK;;QAEX,QAAK,MAAA,GAAA;;;QAGX,WAAW,KAAK;AAAA,QAChB,UAAU,KAAK;AAAA,QACf,UAAU,KAAK;AAAA,QACf,UAAU,KAAK;AAAA,QACf,UAAU,KAAK;AAAA,QACf,MAAM,KAAK;AAAA,QACX,cAAc;AAAA,QACf,YAAS;AAAA,QAAU,qBAAkB;AAAA;;;;;QAKpC,WAAW,KAAK;AAAA,QAChB,UAAU,KAAK;AAAA,QACf,UAAU,KAAK;AAAA,QACf,MAAM,KAAK;AAAA,QACX,cAAc;AAAA,QACf,YAAS;AAAA,QAAU,qBAAkB;AAAA;;;;;;;;;;;;;;"}